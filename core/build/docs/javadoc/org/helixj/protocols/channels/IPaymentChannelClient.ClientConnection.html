<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="fr">
<head>
<!-- Generated by javadoc -->
<title>IPaymentChannelClient.ClientConnection (core 0.15.8 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.helixj.protocols.channels, interface: IPaymentChannelClient, interface: ClientConnection">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":6,"i1":6,"i2":6,"i3":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<a id="skip.navbar.top">
<!--   -->
</a>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.helixj.protocols.channels</a></div>
<h1 title="Interface IPaymentChannelClient.ClientConnection" class="title">Interface IPaymentChannelClient.ClientConnection</h1>
</div>
<div class="contentContainer">
<section class="description">
<dl>
<dt>Enclosing interface:</dt>
<dd><a href="IPaymentChannelClient.html" title="interface in org.helixj.protocols.channels">IPaymentChannelClient</a></dd>
</dl>
<hr>
<pre>public static interface <span class="typeNameLabel">IPaymentChannelClient.ClientConnection</span></pre>
<div class="block">Implements the connection between this client and the server, providing an interface which allows messages to be
 sent to the server, requests for the connection to the server to be closed, and a callback which occurs when the
 channel is fully open.</div>
</section>
<section class="summary">
<ul class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t3" class="tableTab" onclick="show(4);">Abstract Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#acceptExpireTime(long)">acceptExpireTime</a></span>&#8203;(long&nbsp;expireTime)</code></th>
<td class="colLast">
<div class="block">Queries if the expire time proposed by server is acceptable.</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#channelOpen(boolean)">channelOpen</a></span>&#8203;(boolean&nbsp;wasInitiated)</code></th>
<td class="colLast">
<div class="block">Indicates the channel has been successfully opened and
 <a href="PaymentChannelClient.html#incrementPayment(org.helixj.core.Coin)"><code>PaymentChannelClient.incrementPayment(Coin)</code></a>
 may be called at will.</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#destroyConnection(org.helixj.protocols.channels.PaymentChannelCloseException.CloseReason)">destroyConnection</a></span>&#8203;(<a href="PaymentChannelCloseException.CloseReason.html" title="enum in org.helixj.protocols.channels">PaymentChannelCloseException.CloseReason</a>&nbsp;reason)</code></th>
<td class="colLast">
<div class="block">Requests that the connection to the server be closed.</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sendToServer(org.bitcoin.paymentchannel.Protos.TwoWayChannelMessage)">sendToServer</a></span>&#8203;(<a href="../../../bitcoin/paymentchannel/Protos.TwoWayChannelMessage.html" title="class in org.bitcoin.paymentchannel">Protos.TwoWayChannelMessage</a>&nbsp;msg)</code></th>
<td class="colLast">
<div class="block">Requests that the given message be sent to the server.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="sendToServer(org.bitcoin.paymentchannel.Protos.TwoWayChannelMessage)">sendToServer</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">sendToServer</span>&#8203;(<span class="arguments"><a href="../../../bitcoin/paymentchannel/Protos.TwoWayChannelMessage.html" title="class in org.bitcoin.paymentchannel">Protos.TwoWayChannelMessage</a>&nbsp;msg)</span></div>
<div class="block"><p>Requests that the given message be sent to the server. There are no blocking requirements for this method,
 however the order of messages must be preserved.</p>

 <p>If the send fails, no exception should be thrown, however
 <a href="PaymentChannelClient.html#connectionClosed()"><code>PaymentChannelClient.connectionClosed()</code></a> should be called immediately. In the case of messages which
 are a part of initialization, initialization will simply fail and the refund transaction will be broadcasted
 when it unlocks (if necessary).  In the case of a payment message, the payment will be lost however if the
 channel is resumed it will begin again from the channel value <i>after</i> the failed payment.</p>

 <p>Called while holding a lock on the <a href="PaymentChannelClient.html" title="class in org.helixj.protocols.channels"><code>PaymentChannelClient</code></a> object - be careful about reentrancy</p></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="destroyConnection(org.helixj.protocols.channels.PaymentChannelCloseException.CloseReason)">destroyConnection</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">destroyConnection</span>&#8203;(<span class="arguments"><a href="PaymentChannelCloseException.CloseReason.html" title="enum in org.helixj.protocols.channels">PaymentChannelCloseException.CloseReason</a>&nbsp;reason)</span></div>
<div class="block"><p>Requests that the connection to the server be closed. For stateless protocols, note that after this call,
 no more messages should be received from the server and this object is no longer usable. A
 <a href="PaymentChannelClient.html#connectionClosed()"><code>PaymentChannelClient.connectionClosed()</code></a> event should be generated immediately after this call.</p>

 <p>Called while holding a lock on the <a href="PaymentChannelClient.html" title="class in org.helixj.protocols.channels"><code>PaymentChannelClient</code></a> object - be careful about reentrancy</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>reason</code> - The reason for the closure, see the individual values for more details.
               It is usually safe to ignore this and treat any value below
               <a href="PaymentChannelCloseException.CloseReason.html#CLIENT_REQUESTED_CLOSE"><code>PaymentChannelCloseException.CloseReason.CLIENT_REQUESTED_CLOSE</code></a> as "unrecoverable error" and all others as
               "try again once and see if it works then"</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="acceptExpireTime(long)">acceptExpireTime</a></h3>
<div class="memberSignature"><span class="returnType">boolean</span>&nbsp;<span class="memberName">acceptExpireTime</span>&#8203;(<span class="arguments">long&nbsp;expireTime)</span></div>
<div class="block"><p>Queries if the expire time proposed by server is acceptable. If <code>false</code> is return the channel
 will be closed with a  <a href="PaymentChannelCloseException.CloseReason.html#TIME_WINDOW_UNACCEPTABLE"><code>PaymentChannelCloseException.CloseReason.TIME_WINDOW_UNACCEPTABLE</code></a>.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>expireTime</code> - The time, in seconds,  when this channel will be closed by the server. Note this is in absolute time, i.e. seconds since 1970-01-01T00:00:00.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the proposed time is acceptable <code>false</code> otherwise.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="channelOpen(boolean)">channelOpen</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">channelOpen</span>&#8203;(<span class="arguments">boolean&nbsp;wasInitiated)</span></div>
<div class="block"><p>Indicates the channel has been successfully opened and
 <a href="PaymentChannelClient.html#incrementPayment(org.helixj.core.Coin)"><code>PaymentChannelClient.incrementPayment(Coin)</code></a>
 may be called at will.</p>

 <p>Called while holding a lock on the <a href="PaymentChannelClient.html" title="class in org.helixj.protocols.channels"><code>PaymentChannelClient</code></a>
 object - be careful about reentrancy</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>wasInitiated</code> - If true, the channel is newly opened. If false, it was resumed.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
